!function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-utils"),require("elliptical-mutation-summary")):"function"==typeof define&&define.amd?define(["elliptical-utils","elliptical-mutation-summary"],t):(n.elliptical=n.elliptical||{},n.elliptical.binding=t(n.elliptical.utils,n.elliptical.mutation.summary),n.returnExports=n.elliptical.binding)}(this,function(n,t){function e(){$(document).on("OnDocumentMutation",function(n,t){t.added&&o(t.added),t.removed&&u(t.removed)})}function i(n,t){p||e(),p=!0;var i=b.obj;i.fn=t,i.context=this,h.set(n,i),this.click="touchclick"}function o(n){h.forEach(function(t,e){var i=$(n).selfFind("["+s+'="'+e+'"]');i[0]&&$.each(i,function(n,i){var o=f.id(8);i._EA_BINDING_ID=o;var u=g.obj;u.node=i,u.context=t.context,u.attrValue=e,u.fn=t.fn,x.set(o,u),l(t.context,i,t.fn)})})}function l(n,t,e){setTimeout(function(){e.call(n,t)},m)}function u(n){var t=$(n).selfFind(d);t.length&&t.length>0&&$.each(t,function(n,t){t._EA_BINDING_ID&&c(t)})}function c(n){var t=n._EA_BINDING_ID,e=x.get(t);void 0===e?r(n):a(e,n,t)}function a(n,t,e){n.context.unbindEvents(),n.context.dispose(),n.context=null,t&&t.parentNode&&t.parentNode.removeChild(t),n.fn=null,n.node=null,x["delete"](e)}function r(n){x.forEach(function(t,e){n===e.node&&a(e,n,t)})}var f=n.random,d="[ea-bind]",s="ea-bind",p=!1,m=500,v=250,h=new Map,x=new Map;t.connect();var b={get obj(){return{fn:null,context:null}}},g={get obj(){return{node:null,context:null,fn:null,attrValue:null}}};return $(function(){var n=document.querySelectorAll(d);n.length&&setTimeout(function(){o(n)},v)}),i.prototype.jsonParseMessage=function(n){try{var t=JSON.parse(n);return t.message?t.message:n}catch(e){return n}},i.prototype.dispose=function(){},function(n,t){return new i(n,t)}});